# -----------------------------------------------------------------------------
# InferiaLLM Environment Configuration
# -----------------------------------------------------------------------------
# Configuration for Docker Deployment
# Copy this file to .env and fill in your values.
# -----------------------------------------------------------------------------

# --- Application Core ---
ENVIRONMENT="production"
LOG_LEVEL="INFO"

# --- Security & Authentication ---
# CRITICAL: Change these in production!
SUPERADMIN_EMAIL="admin@example.com"
SUPERADMIN_PASSWORD="change-me-immediately"

# Used for signing JWT tokens. Generate with: openssl rand -hex 32
JWT_SECRET_KEY="replace-this-with-a-very-long-random-string"

# Used for internal service-to-service authentication. Generate with: openssl rand -hex 32
INTERNAL_API_KEY="replace-this-with-another-long-random-string"

# Used for encrypting sensitive fields in the database (32-byte base64-encoded key).
SECRET_ENCRYPTION_KEY="replace-with-32-byte-base64-encoded-key"

# Used for encrypting audit logs (32-byte hex key).
LOG_ENCRYPTION_KEY="replace-with-32-byte-hex-key"

# --- Feature Flags ---
ENABLE_2FA=false

# --- Context Cache Configuration ---
# TTL (seconds) for API key context cache in Inference service
CONTEXT_CACHE_TTL=60
CONTEXT_CACHE_MAXSIZE=1000

# --- Dashboard Runtime Config ---
# Public URLs injected into the dashboard at container startup.
# Leave blank to use the defaults (localhost).
API_GATEWAY_URL=""
INFERENCE_URL=""
WEB_SOCKET_URL=""
SIDECAR_URL=""

# --- Database ---
# Postgres service credentials (used by the postgres container)
POSTGRES_USER=inferia
POSTGRES_PASSWORD=inferia

# Application database connection URL
# cli_init derives PG_HOST, PG_PORT, INFERIA_DB_USER, INFERIA_DB_PASSWORD, INFERIA_DB from this.
DATABASE_URL="postgresql://inferia:inferia@postgres:5432/inferia"
DATABASE_SSL=false

# Admin credentials for initial DB bootstrap (inferiallm init)
PG_ADMIN_USER=inferia
PG_ADMIN_PASSWORD=inferia
INFERIA_DB=inferia

# --- Redis Configuration ---
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB="0"
REDIS_USERNAME="default"
REDIS_PASSWORD=
REDIS_SSL=false

# --- CORS ---
# Comma-separated list of allowed origins
ALLOWED_ORIGINS="http://localhost:3001"

# --- Solana (DePIN Sidecar) ---
SOLANA_RPC_URL=""
